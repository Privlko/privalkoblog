---
title: Migration
author: Ivan
date: '2019-02-16'
slug: migration
categories: []
tags: []
---

In this post I look at migration figures released by [Rosstat](http://www.gks.ru/bgd/regl/b18_11/Main.htm). A number of debates are happening in Russia about the inflow and outflow of migrants from former Soviet countries, and the effect these migrants have on wages. Separately, there is an argument that [migration from Ukraine is falling](https://www.vedomosti.ru/opinion/articles/2019/02/12/793969-maidan-razvernul-migratsiyu), which likely has its own challenges. What do these inflows look like? 

```{r, echo=FALSE, warning=FALSE, error=FALSE,message=FALSE}
library(tidyverse)
library(ggplot2)
library(wesanderson)
bad1 <- read_csv('C:/Users/Ivan/Desktop/dir/data/rosstat/migrationdata/badtable.csv', skip=2)
m1<- read_csv('C:/Users/Ivan/Desktop/dir/data/rosstat/migrationdata/migration.csv', skip=2) %>% 
  gather(-Region, -Country, key=Year, value=people)

```

Rosstat releases data on this, but it's awkward for three reasons. First, the annual summary of statistics doesn't cover all of the available years, there's a separate file on the site that reports the full list of figures, but this can be hard to find. I'll use it in a separate post. Second, these figures are presented in a ["wide format" table](https://socviz.co/makeplot.html#tidy-data) which then has to be arranged into a tidy format and passed on to ggplot. Third, there are some annoying quirks in the rosstat tables, like their tendency to include a total row by region in the middle of a table. These rows are helpful when you're just reading the table, but not really useful for feeding the data into `ggplot` for a graph. Further, linked to this, there is no "other" category, so adding the specific countries together say like so `data.frame %>% group_by(Region, Year) %>% summarise(total = sum(people))` does not add up to the total in the table. Generally, the table is messy, and looks like this if you just throw it in directly.

```{r, echo=FALSE, warning=FALSE}
bad1
```

Before doing anything, I work on the table in excel. I do three things. First, I give each region its own "Other" row which makes up the difference between the listed countries and the region total. Second, I drop the region *row*. Third, I create a column for the Region measure. 

After I get the table into R, I gather (using `gather`) each year, leaving the country and region measures alone. The resulting frame looks like this.

```{r, echo=FALSE, warning=FALSE}
m1
```

I run the first graph, just looking at trends by the three regions available in the Rosstat summary.

```{r echo=FALSE, warning=FALSE}
m1 %>% 
  group_by(Region, Year) %>% 
  summarise(total = sum(people)) %>% 
  ggplot(aes(x=Year, 
               y=total, 
               group=Region,
               colour=Region))+
  geom_line()+
  geom_point()+
  scale_y_continuous(labels = scales::comma)+
  labs(title='Total migration into Russia, by region and year',
       subtitle='Migration from the UIS has increased, as argued',
       x='',
       y='Incoming migrants',
       caption='Data: Rosstat \nPlot: @privlko')+
  theme(legend.position="top")+
  theme_minimal()
```

Generally, migration into Russia increased since 2000, most of this migration comes from the Union of Independent States, which includes Azerbaijan, Armenia, Belarus, Kazakhstan, Kyrgyzstan, Moldova, Tajikistan, Turkmenistan, Uzbekistan, and Ukraine. These raw numbers have risen quickly, while migration from the EU is extremely low and has remained flat. Migration from other countries like the US has risen only slightly.

These trends encourage arguments about "poor quality migrants" from -stan countries moving into Russia (which I don't find convincing). We can break these figures down by country to get a better sense of trends. I start with the EU.

```{r, echo=F,warning=F}
m1 %>%
  filter(Region=='EU') %>% 
  ggplot(aes(x=Year, 
               y=people, 
               group=Country,
               colour=Country))+
  geom_line()+
  geom_point()+
  scale_y_continuous(labels = scales::comma)+
  labs(title='Total migration into Russia, from EU',
       subtitle='Migration has risen from Germany, but has remained steady from other countries',
       x='',
       y='Incoming migrants',
       caption='Data: Rosstat \nPlot: @privlko')+
  theme(legend.position="top")+
  theme_minimal()
```

It seems migration into Russia from the EU is mostly mmovement from Germany. Migration from other countries has not changed, and generally remains low. 

```{r, echo=F,warning=F}
m1 %>%
  filter(Region=='Other countries (Including US)') %>% 
  ggplot(aes(x=Year, 
               y=people, 
               group=Country,
               colour=Country))+
  geom_line()+
  geom_point()+
  scale_y_continuous(labels = scales::comma)+
  labs(title='Total migration into Russia, from other countries',
       subtitle='Migration from "Other Countries" has rise as has migration from China',
       x='',
       y='Incoming migrants',
       caption='Data: Rosstat \nPlot: @privlko')+
  theme(legend.position="top")+
  theme_minimal()
```

Results from the "Other" category look different. It's worth pointing to three differences here. First, migration from Georgia fell quickly after 2000, although it remains an important source of migrants of this group or region. Second, the "other country" category has risen quickly, suggesting Rosstat's summary tables aren't capturing the main source of migrants in this group. Third is the steady change in Chinese migrants entering Russia.

```{r, echo=F,warning=F}
m1 %>%
  filter(Region=='Union of Independent States') %>% 
  ggplot(aes(x=Year, 
               y=people, 
               group=Country,
               colour=Country))+
  geom_line()+
  geom_point()+
  scale_y_continuous(labels = scales::comma)+
  labs(title='Total migration into Russia, from Union of Independent States',
       subtitle='The bulk of migration from UIS states comes from Ukraine',
       x='',
       y='Incoming migrants',
       caption='Data: Rosstat \nPlot: @privlko')+
  theme(legend.position="top")+
  theme_minimal()
```

Finally, migration from the union of Independent States, is mostly capturing migration from Ukraine. Uzbekistan was a major source of migrants, but this flow has fallen since 2013. Meanwhile Ukrainian migrants have increased over the years. Despite a decline in incoming migrants since 2015, the main source of migration into Russia is from Ukraine.

Commentators may not see Ukrainians as migrants, focusing instead on racial differences of incoming migrants. We can also look at Ukrainians as a share of all incoming migrants in 2017. 

```{r, echo=F,warning=F}
m0 <- m1 %>% 
  filter(Year==2017,
         Region=='Union of Independent States') %>% 
  mutate(share=people/sum(people))

ggplot(m0, aes(x=Year, y=share,
               fill=Country))+
  geom_bar(stat = "identity")+
  scale_y_continuous(labels = scales::comma)+
  labs(title= 'Share of incoming migrants among UIS (2017)',
       subtitle='Ukraine is the largest exporter of migrants into Russia although other regions produce significant migration',
       x='2017',
       y='Share of UIS migrants for 2017',
       caption='Data: Rosstat \n Plot: @privlko')+
  theme_minimal()

```

Looking at data from Just 2017, focusing just on UIS countries, Ukraine holds the largest share of incoming migrants. Kazakhstan also holds a sizeable share of incoming migrants. 

In a future post, it'll be worth exploring the flow of these migrants out of Russia. I hope to do this next. 